select count(B.ROW) FROM(select ROW_NUMBER() OVER(ORDER BY TEACHERS.TEACHERNO) as ROW,RTRIM(USERS.USERNAME) AS yhm,RTRIM(TEACHERS.TEACHERNO) AS jsh,
RTRIM(TEACHERS.NAME) AS xm,
POSITIONS.VALUE AS zc,
SCHOOLS.NAME AS xy,
S1.NAME AS tgroup,
SEXCODE.NAME AS xb,
RTRIM(USERS.ROLES) AS js FROM USERS LEFT OUTER JOIN TEACHERS ON USERS.TEACHERNO=TEACHERS.TEACHERNO
LEFT OUTER JOIN POSITIONS ON TEACHERS.POSITION=POSITIONS.NAME
LEFT OUTER JOIN SEXCODE ON TEACHERS.SEX=SEXCODE.CODE
LEFT OUTER JOIN SCHOOLS ON TEACHERS.SCHOOL=SCHOOLS.SCHOOL 
LEFT OUTER JOIN TGROUPS S1 ON TEACHERS.TGROUP=S1.TGROUP 
WHERE (USERS.USERNAME LIKE :USER)
AND TEACHERS.SCHOOL LIKE :DANWEI
AND TEACHERS.TGROUP LIKE :tgroup
AND(USERS.ROLES LIKE :ROLE)) as B
