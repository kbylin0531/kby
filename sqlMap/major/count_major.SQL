select count(*) as ROWS from(SELECT row_number() over(order by MAJORS.MAJORNO) as row,
MAJORS.MAJORNO,
MAJORS.YEARS,
MAJORS.SCHOOL,
MAJORS.DEGREE,
BRANCHCODE.NAME AS BRANCHNAME,
MAJORCODE.NAME AS MAJORNAME,
SCHOOLS.NAME AS SCHOOLNAME,
DEGREEOPTIONS.NAME AS DEGREENAME,
MAJORS.REM AS REM,
MAJORS.ROWID
FROM MAJORS 
left JOIN MAJORCODE ON MAJORS.MAJORNO=MAJORCODE.CODE
left JOIN BRANCHCODE ON MAJORS.BRANCH=BRANCHCODE.CODE
left JOIN SCHOOLS ON MAJORS.SCHOOL=SCHOOLS.SCHOOL
left JOIN DEGREEOPTIONS ON MAJORS.DEGREE=DEGREEOPTIONS.CODE
WHERE 
(isnull(rtrim(MAJORS.MAJORNO),'') + '-' + isnull(cast(MAJORS.CLASS_NATURE as varchar),'')) like :MAJORROWNO  
AND MAJORS.MAJORNO LIKE :MAJORNO
AND cast(MAJORS.YEARS as char(2)) LIKE :YEARS
AND MAJORS.DEGREE LIKE :DEGREE
AND MAJORS.SCHOOL LIKE :SCHOOL
) as b