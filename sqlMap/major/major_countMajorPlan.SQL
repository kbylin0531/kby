select count(*) as ROWS from(SELECT row_number() over(order by MAJORS.SCHOOL,MAJORPLAN.YEAR,MAJORCODE.NAME) as row,MAJORS.MAJORNO, MAJORS.YEARS AS 学制, MAJORS.REM AS 专业备注,
      MAJORPLAN.YEAR, MAJORPLAN.REM AS 培养计划备注,
      MAJORCODE.NAME AS 专业名称, BRANCHCODE.NAME AS 专业类别,
      DEGREEOPTIONS.NAME AS 学位, SCHOOLS.NAME AS 学院,
      MAJORPLAN.MCREDITS AS 必修总学分, MAJORPLAN.CREDITS AS 总学分,
      MAJORPLAN.专业方向, MAJORPLAN.ROWID AS majorplanrowid,
      MAJORS.ROWID AS majorsrowid, MAJORS.SCHOOL AS school
FROM MAJORPLAN 
INNER JOIN MAJORS ON MAJORPLAN.MAP = MAJORS.ROWID 
INNER JOIN MAJORCODE ON MAJORS.MAJORNO = MAJORCODE.CODE 
left JOIN BRANCHCODE ON MAJORS.BRANCH = BRANCHCODE.CODE 
left JOIN DEGREEOPTIONS ON MAJORS.DEGREE = DEGREEOPTIONS.CODE 
left JOIN SCHOOLS ON MAJORS.SCHOOL = SCHOOLS.SCHOOL
where MAJORS.ROWID like (:ROWID)

) as b